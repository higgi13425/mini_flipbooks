---
title: "How to Use the _filter()_ function for numeric values"
subtitle: "Selecting specific rows"  
author: 
  - "Peter Higgins"
date: '`r Sys.Date()`'
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: xaringan-themer.css
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: 16:9
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(fig.width = 6, message = FALSE, warning = FALSE, comment = "", cache = FALSE, fig.retina = 3)

library(flipbookr)
library(xaringan)
library(xaringanthemer)
library(tidyverse)
library(medicaldata)
library(janitor)
prostate <- medicaldata::blood_storage %>% clean_names() %>% as_tibble()
```

```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
xaringanthemer::style_duo_accent(
  primary_color = "#00274C",
  secondary_color = "#FFCB05",
  header_font_google = google_font("Lato"),
  text_font_google   = google_font("Manrope"),
  code_font_google   = google_font("Roboto Mono"),
  base_font_size = "20px",
  code_font_size = "0.8rem",
)
```

### How to Use Filter to Pick Out a Subset of Rows

#### We will Start with Numeric Variables

Format: <br>

`dataset %>% 
  filter(var > value)` # you can use <=, ==, <, >, >=, etc.

As long as what is in the parentheses evaluates to a logical vector - <br>
a string of TRUE or FALSE values, one for each row in your dataset.

You can **R**emember that filte**R** is for selecting **R**ows because it ends with an **R**.

Example 1: filter prostate data for cases with cancer recurrence.


---

```{r filter1, include = FALSE, eval = FALSE}
# how many rows when you start
nrow(prostate) 

prostate %>% 
# check next line: some recur, some do not
# selected 4 columns
  select(age, aa, fam_hx, recurrence) %>% 
  filter(recurrence == 1) 

# see how many rows x cols now
# 
# Format:
# filter(variable [comparison] value)        <br>  


```

`r chunk_reveal("filter1", 
    break_type = "auto", 
    title = "Filter Rows on Numeric Values")`


